{% extends "includes/base.html" %}{% load static %} {% block header %} {% endblock %}{% block nav %}{% endblock%}
{% block nav2 %} {% endblock %} {% block content %}
<section id="signin-page" class="section-container">
  <div
    class="form-wrapper wow fadeIn"
    data-wow-duration="0.7s"
    data-wow-delay="0.1s"
  >
    <div class="container">
      <div class="row">
        <div class="col-md-7 mb-4 pt-md-5">
          <h1 class="mb-4 ml-5 ">
            <strong class="d-block">Welcome to Titan</strong> 
          </h1>
          <p class="mb-5 mx-5">
            Sign up for free to earn and help in your free time!
          </p>    
          <div class="tutor-wrapper">
            <a id="tutor-text" href="#tutor" class="mr-md-5 d-inline-block">
              <div class="tutor-list selected">
                <img
                  src="{% static 'images/tutor.png'%}"
                  class="img-fluid mb-4"
                  alt=""
                />
                <span class="d-block mb-1">Tutor</span>
              </div>
            </a>
            <a id="tutee-text" href="#tutee" class="d-inline-block">
              <div class="tutor-list">
                <img
                  src="{% static 'images/tutee.png'%}"
                  class="img-fluid mb-4"
                  alt=""
                />
                <span class="d-block mb-1">Tutee</span>
              </div>
            </a>
          </div>

          <div class="button-wrapper my-5 mx-5">
            <a
              href="#signin-wrapper"
              class="btn transparent-btn mr-3 login selected"
              >Login</a
            >
            <a href="#signup-wrapper" class="btn transparent-btn signup"
              >Sign Up</a
            >
          </div>
        </div>
        <div id="signin-wrapper" class="container-scroller active" >
          <div class="container-fluid page-body-wrapper full-page-wrapper">
            <div class="content-wrapper d-flex align-items-center auth">
              <div class="row flex-grow mx-1" >
                <div class="col-lg-12 mx-auto">
                  <div class="auth-form-light text-left ">
                    <h6 class="auth-link text-black">Login</h6>
                    <form class="pt-3" action="{% url 'login' %}" method="post">
                      {% csrf_token %}
                      <input
                        class="ugroup"
                        type="hidden"
                        name="ugroup"
                        value="1"
                      />
                      <input class="ss" type="hidden" name="ssign" value="2" />
                      {% if data.error %}
                      <h5 class="mb-4 text-center text-danger">
                        {{ data.error }}
                      </h5>
                      {% endif %} {% if data.success %}
                      <h5 class="mb-4 text-center text-success">
                        {{ data.success }}
                      </h5>
                      {% endif %}
                      <div class="form-group">
                        <input
                          type="email"
                          name="email"
                          class="form-control form-control-lg"
                          placeholder="Username"
                          required
                        />
                      </div>
                      <div class="form-group">
                        <input
                          type="password"
                          name="password"
                          class="form-control form-control-lg"
                          placeholder="Password"
                          required
                        />
                      </div>
                      <div class="mb-4">
                        <div class="form-check">
                          <label class="form-check-label text-muted">
                            <input
                              type="checkbox"
                              id="agree1"
                              required
                              class="form-check-input"
                            />
                            I agree to all Terms & Conditions
                          </label>
                        </div>
                      </div>
                      <div
                        class="my-2 d-flex justify-content-between align-items-center"
                      >
                        <a
                          href="{%url 'reset_password' %}"
                          class="auth-link text-black"
                          >Forgot password?</a
                        >
                      </div>
                      <div class="mt-3">
                        <input
                          type="submit"
                          class="btn btn-block btn-gradient-primary btn-lg font-weight-medium auth-form-btn"
                          value="Login"
                        />
                      </div>
                      <div class="text-center mt-4 font-weight-light">
                        Don't have an account?
                        <a href="#signup-wrapper" class="text-primary Create"
                          >Create</a
                        >
                      </div>

                      <br />
                      <div class="mb-2">
                        <button
                          type="button"
                          class="btn btn-block btn-facebook auth-form-btn"
                        >
                          <i class="mdi mdi-facebook mr-2"></i>Connect using
                          facebook
                        </button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div id="signup-wrapper" class="container-scroller" style="display: none;">
          <div class="container-fluid page-body-wrapper full-page-wrapper">
            <div class="content-wrapper d-flex align-items-center auth">
              <div class="row flex-grow " style="margin-top: -45px;"  >
                <div class="col-lg-12 mx-auto">
                  <div class="auth-form-light text-left ">
                    <h6 class="auth-link text-black">Signup</h6>

                    <form
                      class="pt-2"
                      action="{% url 'signup' %}"
                      method="post"
                    >
                      {% csrf_token %}
                      <input
                        class="ugroup"
                        type="hidden"
                        name="ugroup"
                        value="1"
                      />
                      <input class="ss" type="hidden" name="ssign" value="2" />
                      {% if data.error %}
                      <h5 class="mb-4 text-center text-danger">
                        {{ data.error }}
                      </h5>
                      {% endif %} {% if data.success %}
                      <h5 class="mb-4 text-center text-success">
                        {{ data.success }}
                      </h5>
                      {% endif %}
                      <div class="form-group">
                        <input
                          type="text"
                          id="name"
                          name="name"
                          value="{{ data.request.name }}"
                          class="form-control form-control-lg"
                          placeholder="Username"
                          required
                        />
                      </div>
                      <div class="form-group">
                        <input
                          type="email"
                          placeholder="Email"
                          id="email"
                          name="email"
                          value="{{ data.request.email }}"
                          class="form-control form-control-lg {% if data.request.email %} text-danger {%endif%}"
                          required
                        />
                      </div>
                      <div class="form-group">
                        <select
                          class="form-control form-control-lg"
                          id="country"
                          name="country"
                        >
                          <option>Country</option>
                          <option
                            value="India"
                            {%
                            ifdata.request.country
                            %}
                            selected
                            {%
                            endif
                            %}
                          >
                            India
                          </option>
                        </select>
                      </div>
                      <div class="form-group">
                        <input
                          type="password"
                          name="password"
                          class="form-control form-control-lg"
                          id="password"
                          placeholder="Password"
                          required
                        />
                      </div>
                      <div class="form-group">
                        <select
                          name="expertise"
                          id="expertise-select"
                          placeholder="Subject"
                          multiple
                          data-live-search="true"
                          class="form-control form-control-lg"
                        >
                          {% for sub in data.subject %}
                          <option value="{{sub.name}}">{{sub.name}}</option>
                          {% endfor %}
                        </select>
                      </div>

                      <div class="form-group">
                        <input
                          type="text"
                          id="class"
                          name="class"
                          value="{{ data.request.class }}"
                          class="form-control form-control-lg"
                          placeholder="Class"
                          required
                        />
                      </div>
                      <div class="mb-4">
                        <div class="form-check">
                          <label class="form-check-label text-muted">
                            <input
                              type="checkbox"
                              id="agree1"
                              required
                              class="form-check-input"
                            />
                            I agree to all Terms & Conditions
                          </label>
                        </div>
                      </div>
                      <div class="mt-3">
                        <input
                          class="btn btn-block btn-gradient-primary btn-lg font-weight-medium auth-form-btn"
                          type="submit"
                          value="Sign Up"
                        />
                      </div>
                      <div class="text-center mt-4 font-weight-light">
                        Already have an account?
                        <a href="#signin-wrapper" class="text-primary Login">Login</a>
                      </div>
                    </form>
                    <!-- </div> -->
                  </div>
                </div>
              </div>
              <!-- </div> -->
            </div>
            <!-- content-wrapper ends -->
            <!-- </div> -->
            <!-- page-body-wrapper ends -->
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

{% endblock %} {% block custom_Script %}

<script>
  $(document).ready(function () {
  	$(".class-class").hide();

  	{%if data.request.email %}
  	$(".login").removeClass("selected");
  	$('.signup').addClass("selected");
  	$(".container-scroller").removeClass('active');
  	$("#signup-wrapper").addClass('active');
  	{% endif %}


  	$(".tutor-wrapper a").click(function (event) {
  		if ($('.ugroup').val() == 2) {
  			$('.ugroup').val(1);
  			$(".class-class").hide();
  			$('.expertise-select-class').show();
  		} else {
  			$('.ugroup').val(2);
  			$(".class-class").show();
  			$('.expertise-select-class').hide();
  		}
  		$(".tutor-list").removeClass("selected");
  		$(this).find(".tutor-list").addClass("selected");
  	});

  	$(".button-wrapper a ").click(function (event) {
  		event.preventDefault();
  		var attribute = $(this).attr("href");
  		$(".button-wrapper a").removeClass("selected");
  		$(this).addClass("selected");
  		$(".container-scroller").removeClass('active');
  		$(".form-wrapper").find(attribute).addClass('active');
  	});

    //: login and signup button function newly added

    $('.signup').click(function(){
    $('#signin-wrapper').hide();
    $('#signup-wrapper').show();
    $('#signup-wrapper a').click(function(){
      $('#signin-wrapper').show();
      $('#signup-wrapper').hide();
      })

    })

    $('.login').click(function(){
    $('#signup-wrapper').hide();
    $('#signin-wrapper').show();
    $('#signin-wrapper a').click(function(){
      $('#signin-wrapper').hide();
      $('#signup-wrapper').show();
      })
    });

    
    

  	$(".signwrap").click(function (event) {
  		event.preventDefault();
  		var attribute = $(this).attr("href");
  		$(".login").removeClass("selected");
  		$('.signup').addClass("selected");
  		$(".container-scroller").removeClass('active');
  		$(".form-wrapper").find(attribute).addClass('active');
  	});

  	$(".loginwrap").click(function (event) {
  		event.preventDefault();
  		var attribute = $(this).attr("href");
  		$(".signup").removeClass("selected");
  		$('.login').addClass("selected");
  		$(".container-scroller").addClass('active');
  		$("#signup-wrapper").removeClass('active');
  	});
  	$('.selectpicker').selectpicker();
  	$(".selectpicker").change(function () {
  		$("#expertise").val($('.selectpicker').val().join(','));
  	});

  	$(".add-btn").click(function () {
  		var data =
  			'<div class="form-group mb-3"><input type="text" id="expertise" name="expertise" class="form-control" placeholder="Subject of Expertise"></div><div class="form-group mb-3"><input type="text" id="class" name="class" class="form-control" placeholder="Class Taken 1"></div>';
  		$(".certificate-wrapper").append(data);
  	})
  });
</script>
{% endblock %}
